{"id":"eseS","dependencies":[{"name":"C:\\Users\\danny\\Documents\\gitRoot\\intro-to-iot\\package.json","includedInParent":true,"mtime":1607033658464},{"name":"C:\\Users\\danny\\Documents\\gitRoot\\intro-to-iot\\node_modules\\mqtt\\package.json","includedInParent":true,"mtime":499162500000}],"generated":{"js":"\"use strict\";function t(t){for(var r=t.split(\"/\"),e=0;e<r.length;e++)if(\"+\"!==r[e]){if(\"#\"===r[e])return e===r.length-1;if(-1!==r[e].indexOf(\"+\")||-1!==r[e].indexOf(\"#\"))return!1}return!0}function r(r){if(0===r.length)return\"empty_topic_list\";for(var e=0;e<r.length;e++)if(!t(r[e]))return r[e];return null}module.exports={validateTopics:r};"},"sourceMaps":{"js":{"mappings":[{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":12,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"validateTopic","original":{"line":12,"column":9},"generated":{"line":1,"column":22}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"topic","original":{"line":12,"column":24},"generated":{"line":1,"column":24}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":15,"column":7},"generated":{"line":1,"column":27}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":13,"column":6},"generated":{"line":1,"column":31}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":13,"column":6},"generated":{"line":1,"column":35}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"topic","original":{"line":13,"column":14},"generated":{"line":1,"column":37}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"split","original":{"line":13,"column":20},"generated":{"line":1,"column":39}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":13,"column":26},"generated":{"line":1,"column":45}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":15,"column":11},"generated":{"line":1,"column":50}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":15,"column":15},"generated":{"line":1,"column":52}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":15,"column":18},"generated":{"line":1,"column":54}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":15,"column":22},"generated":{"line":1,"column":56}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"length","original":{"line":15,"column":28},"generated":{"line":1,"column":58}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":15,"column":36},"generated":{"line":1,"column":65}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":16,"column":8},"generated":{"line":1,"column":69}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":16,"column":21},"generated":{"line":1,"column":72}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":16,"column":8},"generated":{"line":1,"column":78}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":16,"column":14},"generated":{"line":1,"column":80}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":16,"column":8},"generated":{"line":1,"column":83}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":20,"column":8},"generated":{"line":1,"column":84}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":20,"column":21},"generated":{"line":1,"column":87}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":20,"column":8},"generated":{"line":1,"column":93}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":20,"column":14},"generated":{"line":1,"column":95}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":22,"column":13},"generated":{"line":1,"column":98}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":22,"column":13},"generated":{"line":1,"column":105}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":22,"column":19},"generated":{"line":1,"column":109}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"length","original":{"line":22,"column":25},"generated":{"line":1,"column":111}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":22,"column":34},"generated":{"line":1,"column":118}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":25,"column":8},"generated":{"line":1,"column":120}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":25,"column":35},"generated":{"line":1,"column":124}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":25,"column":8},"generated":{"line":1,"column":128}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":25,"column":14},"generated":{"line":1,"column":130}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"indexOf","original":{"line":25,"column":17},"generated":{"line":1,"column":133}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":25,"column":25},"generated":{"line":1,"column":141}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":25,"column":67},"generated":{"line":1,"column":148}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"parts","original":{"line":25,"column":40},"generated":{"line":1,"column":152}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":25,"column":46},"generated":{"line":1,"column":154}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"indexOf","original":{"line":25,"column":49},"generated":{"line":1,"column":157}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":25,"column":57},"generated":{"line":1,"column":165}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":26,"column":13},"generated":{"line":1,"column":170}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":26,"column":13},"generated":{"line":1,"column":177}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":30,"column":9},"generated":{"line":1,"column":179}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":30,"column":9},"generated":{"line":1,"column":186}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":38,"column":0},"generated":{"line":1,"column":188}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"validateTopics","original":{"line":38,"column":9},"generated":{"line":1,"column":197}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"topics","original":{"line":38,"column":25},"generated":{"line":1,"column":199}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"topics","original":{"line":39,"column":6},"generated":{"line":1,"column":202}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":39,"column":24},"generated":{"line":1,"column":205}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"topics","original":{"line":39,"column":6},"generated":{"line":1,"column":209}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"length","original":{"line":39,"column":13},"generated":{"line":1,"column":211}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":40,"column":11},"generated":{"line":1,"column":218}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":40,"column":11},"generated":{"line":1,"column":224}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":42,"column":7},"generated":{"line":1,"column":243}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":42,"column":7},"generated":{"line":1,"column":247}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":42,"column":11},"generated":{"line":1,"column":251}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":42,"column":15},"generated":{"line":1,"column":253}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":42,"column":18},"generated":{"line":1,"column":255}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"topics","original":{"line":42,"column":22},"generated":{"line":1,"column":257}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"length","original":{"line":42,"column":29},"generated":{"line":1,"column":259}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":42,"column":37},"generated":{"line":1,"column":266}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":43,"column":8},"generated":{"line":1,"column":270}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"validateTopic","original":{"line":43,"column":9},"generated":{"line":1,"column":274}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"topics","original":{"line":43,"column":23},"generated":{"line":1,"column":276}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":43,"column":30},"generated":{"line":1,"column":278}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"topics","original":{"line":44,"column":13},"generated":{"line":1,"column":282}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"topics","original":{"line":44,"column":13},"generated":{"line":1,"column":289}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"i","original":{"line":44,"column":20},"generated":{"line":1,"column":291}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":47,"column":9},"generated":{"line":1,"column":294}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":47,"column":9},"generated":{"line":1,"column":301}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"module","original":{"line":50,"column":0},"generated":{"line":1,"column":306}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"exports","original":{"line":50,"column":7},"generated":{"line":1,"column":313}},{"source":"../../../node_modules/mqtt/lib/validations.js","original":{"line":50,"column":17},"generated":{"line":1,"column":321}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"validateTopics","original":{"line":51,"column":2},"generated":{"line":1,"column":322}},{"source":"../../../node_modules/mqtt/lib/validations.js","name":"validateTopics","original":{"line":51,"column":18},"generated":{"line":1,"column":337}}],"sources":{"../../../node_modules/mqtt/lib/validations.js":"'use strict'\n\n/**\n * Validate a topic to see if it's valid or not.\n * A topic is valid if it follow below rules:\n * - Rule #1: If any part of the topic is not `+` or `#`, then it must not contain `+` and '#'\n * - Rule #2: Part `#` must be located at the end of the mailbox\n *\n * @param {String} topic - A topic\n * @returns {Boolean} If the topic is valid, returns true. Otherwise, returns false.\n */\nfunction validateTopic (topic) {\n  var parts = topic.split('/')\n\n  for (var i = 0; i < parts.length; i++) {\n    if (parts[i] === '+') {\n      continue\n    }\n\n    if (parts[i] === '#') {\n      // for Rule #2\n      return i === parts.length - 1\n    }\n\n    if (parts[i].indexOf('+') !== -1 || parts[i].indexOf('#') !== -1) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Validate an array of topics to see if any of them is valid or not\n  * @param {Array} topics - Array of topics\n * @returns {String} If the topics is valid, returns null. Otherwise, returns the invalid one\n */\nfunction validateTopics (topics) {\n  if (topics.length === 0) {\n    return 'empty_topic_list'\n  }\n  for (var i = 0; i < topics.length; i++) {\n    if (!validateTopic(topics[i])) {\n      return topics[i]\n    }\n  }\n  return null\n}\n\nmodule.exports = {\n  validateTopics: validateTopics\n}\n"},"lineCount":null}},"error":null,"hash":"5e66420d8b556d10b78bd42fd5402489","cacheData":{"env":{}}}