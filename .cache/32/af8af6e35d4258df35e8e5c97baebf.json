{"id":"s4rD","dependencies":[{"name":"/Users/avdonr/Documents/GitHub/intro-to-iot/package.json","includedInParent":true,"mtime":1607039588656},{"name":"/Users/avdonr/Documents/GitHub/intro-to-iot/node_modules/mqtt/package.json","includedInParent":true,"mtime":499162500000},{"name":"debug","loc":{"line":3,"column":20},"parent":"/Users/avdonr/Documents/GitHub/intro-to-iot/node_modules/mqtt/lib/connect/ws.js","resolved":"/Users/avdonr/Documents/GitHub/intro-to-iot/node_modules/debug/src/browser.js"},{"name":"websocket-stream","loc":{"line":4,"column":24},"parent":"/Users/avdonr/Documents/GitHub/intro-to-iot/node_modules/mqtt/lib/connect/ws.js","resolved":"/Users/avdonr/Documents/GitHub/intro-to-iot/node_modules/websocket-stream/stream.js"},{"name":"url","loc":{"line":5,"column":24},"parent":"/Users/avdonr/Documents/GitHub/intro-to-iot/node_modules/mqtt/lib/connect/ws.js","resolved":"/Users/avdonr/Documents/GitHub/intro-to-iot/node_modules/url/url.js"},{"name":"process","parent":"/Users/avdonr/Documents/GitHub/intro-to-iot/node_modules/mqtt/lib/connect/ws.js","resolved":"/Users/avdonr/Documents/GitHub/intro-to-iot/node_modules/process/browser.js"}],"generated":{"js":"var process = require(\"process\");\nvar o=require(\"process\"),t=require(\"debug\")(\"mqttjs:ws\"),r=require(\"websocket-stream\"),e=require(\"url\"),s=[\"rejectUnauthorized\",\"ca\",\"cert\",\"key\",\"pfx\",\"passphrase\"],n=\"browser\"===o.title;function p(o,t){var r=o.protocol+\"://\"+o.hostname+\":\"+o.port+o.path;return\"function\"==typeof o.transformWsUrl&&(r=o.transformWsUrl(r,o,t)),r}function a(o){o.hostname||(o.hostname=\"localhost\"),o.port||(\"wss\"===o.protocol?o.port=443:o.port=80),o.path||(o.path=\"/\"),o.wsOptions||(o.wsOptions={}),n||\"wss\"!==o.protocol||s.forEach(function(t){o.hasOwnProperty(t)&&!o.wsOptions.hasOwnProperty(t)&&(o.wsOptions[t]=o[t])})}function u(o,e){t(\"createWebSocket\");var s=\"MQIsdp\"===e.protocolId&&3===e.protocolVersion?\"mqttv3.1\":\"mqtt\";a(e);var n=p(e,o);return t(\"url %s protocol %s\",n,s),r(n,[s],e.wsOptions)}function c(o,t){return u(o,t)}function i(o,r){if(t(\"browserStreamBuilder\"),r.hostname||(r.hostname=r.host),!r.hostname){if(\"undefined\"==typeof document)throw new Error(\"Could not determine host. Specify host manually.\");var s=e.parse(document.URL);r.hostname=s.hostname,r.port||(r.port=s.port)}return u(o,r)}module.exports=n?i:c;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":96,"column":1},"generated":{"line":2,"column":0}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":96,"column":1},"generated":{"line":2,"column":4}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":96,"column":1},"generated":{"line":2,"column":6}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":96,"column":1},"generated":{"line":2,"column":14}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"debug","original":{"line":3,"column":4},"generated":{"line":2,"column":25}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"require","original":{"line":3,"column":12},"generated":{"line":2,"column":27}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":3,"column":20},"generated":{"line":2,"column":35}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"require","original":{"line":3,"column":12},"generated":{"line":2,"column":43}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":3,"column":29},"generated":{"line":2,"column":44}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"websocket","original":{"line":4,"column":4},"generated":{"line":2,"column":57}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"require","original":{"line":4,"column":16},"generated":{"line":2,"column":59}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":4,"column":24},"generated":{"line":2,"column":67}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"urlModule","original":{"line":5,"column":4},"generated":{"line":2,"column":87}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"require","original":{"line":5,"column":16},"generated":{"line":2,"column":89}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":5,"column":24},"generated":{"line":2,"column":97}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"WSS_OPTIONS","original":{"line":6,"column":4},"generated":{"line":2,"column":104}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":6,"column":18},"generated":{"line":2,"column":106}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":7,"column":2},"generated":{"line":2,"column":107}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":8,"column":2},"generated":{"line":2,"column":128}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":9,"column":2},"generated":{"line":2,"column":133}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":10,"column":2},"generated":{"line":2,"column":140}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":11,"column":2},"generated":{"line":2,"column":146}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":12,"column":2},"generated":{"line":2,"column":152}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"IS_BROWSER","original":{"line":14,"column":4},"generated":{"line":2,"column":166}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":14,"column":35},"generated":{"line":2,"column":168}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"process","original":{"line":14,"column":17},"generated":{"line":2,"column":180}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"title","original":{"line":14,"column":25},"generated":{"line":2,"column":182}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":16,"column":0},"generated":{"line":2,"column":188}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"buildUrl","original":{"line":16,"column":9},"generated":{"line":2,"column":197}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":16,"column":19},"generated":{"line":2,"column":199}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"client","original":{"line":16,"column":25},"generated":{"line":2,"column":201}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":17,"column":6},"generated":{"line":2,"column":204}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":17,"column":6},"generated":{"line":2,"column":208}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":17,"column":12},"generated":{"line":2,"column":210}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"protocol","original":{"line":17,"column":17},"generated":{"line":2,"column":212}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":17,"column":28},"generated":{"line":2,"column":221}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":17,"column":36},"generated":{"line":2,"column":227}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hostname","original":{"line":17,"column":41},"generated":{"line":2,"column":229}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":17,"column":52},"generated":{"line":2,"column":238}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":17,"column":58},"generated":{"line":2,"column":242}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"port","original":{"line":17,"column":63},"generated":{"line":2,"column":244}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":17,"column":70},"generated":{"line":2,"column":249}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"path","original":{"line":17,"column":75},"generated":{"line":2,"column":251}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":21,"column":9},"generated":{"line":2,"column":256}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":18,"column":39},"generated":{"line":2,"column":262}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":18,"column":14},"generated":{"line":2,"column":281}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"transformWsUrl","original":{"line":18,"column":19},"generated":{"line":2,"column":283}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":19,"column":4},"generated":{"line":2,"column":300}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":19,"column":10},"generated":{"line":2,"column":302}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"transformWsUrl","original":{"line":19,"column":15},"generated":{"line":2,"column":304}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":19,"column":30},"generated":{"line":2,"column":319}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":19,"column":35},"generated":{"line":2,"column":321}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"client","original":{"line":19,"column":41},"generated":{"line":2,"column":323}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":21,"column":9},"generated":{"line":2,"column":327}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":24,"column":0},"generated":{"line":2,"column":329}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"setDefaultOpts","original":{"line":24,"column":9},"generated":{"line":2,"column":338}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":24,"column":25},"generated":{"line":2,"column":340}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":25,"column":7},"generated":{"line":2,"column":343}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hostname","original":{"line":25,"column":12},"generated":{"line":2,"column":345}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":26,"column":4},"generated":{"line":2,"column":356}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hostname","original":{"line":26,"column":9},"generated":{"line":2,"column":358}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":26,"column":20},"generated":{"line":2,"column":367}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":28,"column":7},"generated":{"line":2,"column":380}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"port","original":{"line":28,"column":12},"generated":{"line":2,"column":382}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":29,"column":26},"generated":{"line":2,"column":389}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":29,"column":8},"generated":{"line":2,"column":397}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"protocol","original":{"line":29,"column":13},"generated":{"line":2,"column":399}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":30,"column":6},"generated":{"line":2,"column":408}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"port","original":{"line":30,"column":11},"generated":{"line":2,"column":410}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":30,"column":18},"generated":{"line":2,"column":415}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":32,"column":6},"generated":{"line":2,"column":419}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"port","original":{"line":32,"column":11},"generated":{"line":2,"column":421}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":32,"column":18},"generated":{"line":2,"column":426}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":35,"column":7},"generated":{"line":2,"column":430}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"path","original":{"line":35,"column":12},"generated":{"line":2,"column":432}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":36,"column":4},"generated":{"line":2,"column":439}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"path","original":{"line":36,"column":9},"generated":{"line":2,"column":441}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":36,"column":16},"generated":{"line":2,"column":446}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":39,"column":7},"generated":{"line":2,"column":451}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"wsOptions","original":{"line":39,"column":12},"generated":{"line":2,"column":453}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":40,"column":4},"generated":{"line":2,"column":465}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"wsOptions","original":{"line":40,"column":9},"generated":{"line":2,"column":467}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":40,"column":21},"generated":{"line":2,"column":477}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"IS_BROWSER","original":{"line":42,"column":7},"generated":{"line":2,"column":481}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":42,"column":39},"generated":{"line":2,"column":484}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":42,"column":21},"generated":{"line":2,"column":492}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"protocol","original":{"line":42,"column":26},"generated":{"line":2,"column":494}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"WSS_OPTIONS","original":{"line":44,"column":4},"generated":{"line":2,"column":504}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"forEach","original":{"line":44,"column":16},"generated":{"line":2,"column":506}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":44,"column":24},"generated":{"line":2,"column":514}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"prop","original":{"line":44,"column":34},"generated":{"line":2,"column":523}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":45,"column":10},"generated":{"line":2,"column":526}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hasOwnProperty","original":{"line":45,"column":15},"generated":{"line":2,"column":528}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"prop","original":{"line":45,"column":30},"generated":{"line":2,"column":543}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":45,"column":40},"generated":{"line":2,"column":548}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"wsOptions","original":{"line":45,"column":45},"generated":{"line":2,"column":550}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hasOwnProperty","original":{"line":45,"column":55},"generated":{"line":2,"column":560}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"prop","original":{"line":45,"column":70},"generated":{"line":2,"column":575}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":46,"column":8},"generated":{"line":2,"column":580}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"wsOptions","original":{"line":46,"column":13},"generated":{"line":2,"column":582}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"prop","original":{"line":46,"column":23},"generated":{"line":2,"column":592}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":46,"column":31},"generated":{"line":2,"column":595}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"prop","original":{"line":46,"column":36},"generated":{"line":2,"column":597}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":52,"column":0},"generated":{"line":2,"column":603}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"createWebSocket","original":{"line":52,"column":9},"generated":{"line":2,"column":612}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"client","original":{"line":52,"column":26},"generated":{"line":2,"column":614}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":52,"column":34},"generated":{"line":2,"column":616}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"debug","original":{"line":53,"column":2},"generated":{"line":2,"column":619}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":53,"column":8},"generated":{"line":2,"column":621}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"websocketSubProtocol","original":{"line":54,"column":6},"generated":{"line":2,"column":640}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"websocketSubProtocol","original":{"line":54,"column":6},"generated":{"line":2,"column":644}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":55,"column":25},"generated":{"line":2,"column":646}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":55,"column":5},"generated":{"line":2,"column":657}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"protocolId","original":{"line":55,"column":10},"generated":{"line":2,"column":659}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":55,"column":64},"generated":{"line":2,"column":671}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":55,"column":39},"generated":{"line":2,"column":675}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"protocolVersion","original":{"line":55,"column":44},"generated":{"line":2,"column":677}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":56,"column":8},"generated":{"line":2,"column":693}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":57,"column":8},"generated":{"line":2,"column":704}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"setDefaultOpts","original":{"line":59,"column":2},"generated":{"line":2,"column":711}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":59,"column":17},"generated":{"line":2,"column":713}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":60,"column":6},"generated":{"line":2,"column":716}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":60,"column":6},"generated":{"line":2,"column":720}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"buildUrl","original":{"line":60,"column":12},"generated":{"line":2,"column":722}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":60,"column":21},"generated":{"line":2,"column":724}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"client","original":{"line":60,"column":27},"generated":{"line":2,"column":726}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"websocket","original":{"line":62,"column":9},"generated":{"line":2,"column":729}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"debug","original":{"line":61,"column":2},"generated":{"line":2,"column":736}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":61,"column":8},"generated":{"line":2,"column":738}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":61,"column":30},"generated":{"line":2,"column":759}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"websocketSubProtocol","original":{"line":61,"column":35},"generated":{"line":2,"column":761}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"websocket","original":{"line":62,"column":9},"generated":{"line":2,"column":764}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"url","original":{"line":62,"column":19},"generated":{"line":2,"column":766}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":62,"column":24},"generated":{"line":2,"column":768}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"websocketSubProtocol","original":{"line":62,"column":25},"generated":{"line":2,"column":769}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":62,"column":48},"generated":{"line":2,"column":772}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"wsOptions","original":{"line":62,"column":53},"generated":{"line":2,"column":774}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":65,"column":0},"generated":{"line":2,"column":785}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"streamBuilder","original":{"line":65,"column":9},"generated":{"line":2,"column":794}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"client","original":{"line":65,"column":24},"generated":{"line":2,"column":796}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":65,"column":32},"generated":{"line":2,"column":798}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"createWebSocket","original":{"line":66,"column":9},"generated":{"line":2,"column":801}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"createWebSocket","original":{"line":66,"column":9},"generated":{"line":2,"column":808}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"client","original":{"line":66,"column":25},"generated":{"line":2,"column":810}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":66,"column":33},"generated":{"line":2,"column":812}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":69,"column":0},"generated":{"line":2,"column":815}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"browserStreamBuilder","original":{"line":69,"column":9},"generated":{"line":2,"column":824}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"client","original":{"line":69,"column":31},"generated":{"line":2,"column":826}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":69,"column":39},"generated":{"line":2,"column":828}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":75,"column":6},"generated":{"line":2,"column":831}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"debug","original":{"line":70,"column":2},"generated":{"line":2,"column":834}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":70,"column":8},"generated":{"line":2,"column":836}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":71,"column":7},"generated":{"line":2,"column":860}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hostname","original":{"line":71,"column":12},"generated":{"line":2,"column":862}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":72,"column":4},"generated":{"line":2,"column":873}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hostname","original":{"line":72,"column":9},"generated":{"line":2,"column":875}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":72,"column":20},"generated":{"line":2,"column":884}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"host","original":{"line":72,"column":25},"generated":{"line":2,"column":886}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":75,"column":7},"generated":{"line":2,"column":893}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hostname","original":{"line":75,"column":12},"generated":{"line":2,"column":895}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":75,"column":22},"generated":{"line":2,"column":904}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":79,"column":8},"generated":{"line":2,"column":905}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":79,"column":30},"generated":{"line":2,"column":908}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"document","original":{"line":79,"column":16},"generated":{"line":2,"column":928}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":80,"column":12},"generated":{"line":2,"column":937}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":80,"column":12},"generated":{"line":2,"column":943}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"Error","original":{"line":80,"column":16},"generated":{"line":2,"column":947}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","original":{"line":80,"column":22},"generated":{"line":2,"column":953}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"parsed","original":{"line":82,"column":8},"generated":{"line":2,"column":1005}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"parsed","original":{"line":82,"column":8},"generated":{"line":2,"column":1009}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"urlModule","original":{"line":82,"column":17},"generated":{"line":2,"column":1011}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"parse","original":{"line":82,"column":27},"generated":{"line":2,"column":1013}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"document","original":{"line":82,"column":33},"generated":{"line":2,"column":1019}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"URL","original":{"line":82,"column":42},"generated":{"line":2,"column":1028}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":83,"column":4},"generated":{"line":2,"column":1033}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hostname","original":{"line":83,"column":9},"generated":{"line":2,"column":1035}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"parsed","original":{"line":83,"column":20},"generated":{"line":2,"column":1044}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"hostname","original":{"line":83,"column":27},"generated":{"line":2,"column":1046}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":85,"column":9},"generated":{"line":2,"column":1055}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"port","original":{"line":85,"column":14},"generated":{"line":2,"column":1057}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":86,"column":6},"generated":{"line":2,"column":1064}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"port","original":{"line":86,"column":11},"generated":{"line":2,"column":1066}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"parsed","original":{"line":86,"column":18},"generated":{"line":2,"column":1071}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"port","original":{"line":86,"column":25},"generated":{"line":2,"column":1073}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"createWebSocket","original":{"line":89,"column":9},"generated":{"line":2,"column":1079}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"createWebSocket","original":{"line":89,"column":9},"generated":{"line":2,"column":1086}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"client","original":{"line":89,"column":25},"generated":{"line":2,"column":1088}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"opts","original":{"line":89,"column":33},"generated":{"line":2,"column":1090}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"module","original":{"line":93,"column":2},"generated":{"line":2,"column":1093}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"exports","original":{"line":93,"column":9},"generated":{"line":2,"column":1100}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"IS_BROWSER","original":{"line":92,"column":4},"generated":{"line":2,"column":1108}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"browserStreamBuilder","original":{"line":93,"column":19},"generated":{"line":2,"column":1110}},{"source":"../../../node_modules/mqtt/lib/connect/ws.js","name":"streamBuilder","original":{"line":95,"column":19},"generated":{"line":2,"column":1112}}],"sources":{"../../../node_modules/mqtt/lib/connect/ws.js":"'use strict'\n\nvar debug = require('debug')('mqttjs:ws')\nvar websocket = require('websocket-stream')\nvar urlModule = require('url')\nvar WSS_OPTIONS = [\n  'rejectUnauthorized',\n  'ca',\n  'cert',\n  'key',\n  'pfx',\n  'passphrase'\n]\nvar IS_BROWSER = process.title === 'browser'\n\nfunction buildUrl (opts, client) {\n  var url = opts.protocol + '://' + opts.hostname + ':' + opts.port + opts.path\n  if (typeof (opts.transformWsUrl) === 'function') {\n    url = opts.transformWsUrl(url, opts, client)\n  }\n  return url\n}\n\nfunction setDefaultOpts (opts) {\n  if (!opts.hostname) {\n    opts.hostname = 'localhost'\n  }\n  if (!opts.port) {\n    if (opts.protocol === 'wss') {\n      opts.port = 443\n    } else {\n      opts.port = 80\n    }\n  }\n  if (!opts.path) {\n    opts.path = '/'\n  }\n\n  if (!opts.wsOptions) {\n    opts.wsOptions = {}\n  }\n  if (!IS_BROWSER && opts.protocol === 'wss') {\n    // Add cert/key/ca etc options\n    WSS_OPTIONS.forEach(function (prop) {\n      if (opts.hasOwnProperty(prop) && !opts.wsOptions.hasOwnProperty(prop)) {\n        opts.wsOptions[prop] = opts[prop]\n      }\n    })\n  }\n}\n\nfunction createWebSocket (client, opts) {\n  debug('createWebSocket')\n  var websocketSubProtocol =\n    (opts.protocolId === 'MQIsdp') && (opts.protocolVersion === 3)\n      ? 'mqttv3.1'\n      : 'mqtt'\n\n  setDefaultOpts(opts)\n  var url = buildUrl(opts, client)\n  debug('url %s protocol %s', url, websocketSubProtocol)\n  return websocket(url, [websocketSubProtocol], opts.wsOptions)\n}\n\nfunction streamBuilder (client, opts) {\n  return createWebSocket(client, opts)\n}\n\nfunction browserStreamBuilder (client, opts) {\n  debug('browserStreamBuilder')\n  if (!opts.hostname) {\n    opts.hostname = opts.host\n  }\n\n  if (!opts.hostname) {\n    // Throwing an error in a Web Worker if no `hostname` is given, because we\n    // can not determine the `hostname` automatically.  If connecting to\n    // localhost, please supply the `hostname` as an argument.\n    if (typeof (document) === 'undefined') {\n      throw new Error('Could not determine host. Specify host manually.')\n    }\n    var parsed = urlModule.parse(document.URL)\n    opts.hostname = parsed.hostname\n\n    if (!opts.port) {\n      opts.port = parsed.port\n    }\n  }\n  return createWebSocket(client, opts)\n}\n\nif (IS_BROWSER) {\n  module.exports = browserStreamBuilder\n} else {\n  module.exports = streamBuilder\n}\n"},"lineCount":null}},"error":null,"hash":"8d70dfa65b714bf745a5e59863f38757","cacheData":{"env":{}}}